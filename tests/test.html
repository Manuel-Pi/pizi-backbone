<html>
<head>
  <meta charset="utf-8">
  <title>pizi-backbone test</title>
  <!--<link rel="stylesheet" href="//code.jquery.com/qunit/qunit-1.18.0.css">-->
  <link rel="stylesheet" href="foundation/css/normalize.css">
  <link rel="stylesheet" href="foundation/css/foundation.css">
  <link rel="stylesheet" href="pizi-backbone.css">
  <style>
    body > div input[type="radio"] + input[type="radio"], body > div input[type="checkbox"] + input[type="checkbox"], body > div input[type="radio"] + input[type="checkbox"]{
      margin-left: 10px;
    }
    body > div  input[type="radio"], body > div input[type="checkbox"]{
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <!--<div id="qunit"></div>
  <div id="qunit-fixture"></div>-->
  <script src="jquery/dist/jquery.js"></script>
  <!--<script src="//code.jquery.com/qunit/qunit-1.18.0.js"></script>-->
  <script src="underscore/underscore.js"></script>
  <script src="backbone/backbone.js"></script>
  <script src="modernizr/modernizr.js"></script>
  <script src="fastclick/lib/fastclick.js"></script>
  <script src="jquery.cookie/jquery.cookie.js"></script>
  <script src="jquery-placeholder/jquery.placeholder.js"></script>
  <script src="foundation/js/foundation.js"></script>
  <script src="pizi-backbone.js"></script>
  <div style="padding: 10px;padding-top: 30px;">
    <h1>pizi-backbone test</h1>
    <!-- Confirm Popup -->
    <textarea type="text" class="confirm" style="width:50%;">Test!</textarea>
    <input type="checkbox" class="ok" checked/>Ok
    <input type="checkbox" class="close"/>Close
    <input type="checkbox" class="custom"/>Custom
    <br>
    <button onclick="confirm()">Confirm Popup</button>
    <!-- Alert Popup -->
    <textarea type="text" class="alert" style="width:50%;">Test!</textarea>
    <button onclick="popup.alert($('.alert').val());">Alert Popup</button>
    <!-- Form Popup -->
    <textarea type="text" class="alert" style="width:50%;">Test!</textarea>
    <button onclick="formPopup()">Form Popup</button>
    <!--  Notification -->
    <input type="text" class="notif" value="Test!" style="width:50%"/>
    <input type="radio" name="type" value="notify" checked/>Notif
    <input type="radio" name="type" value="success"/>Success
    <input type="radio" name="type" value="warn"/>Warning
    <input type="radio" name="type" value="error"/>Error
    <input type="checkbox" class="permanent"/>Permanent
    <br>
    <button onclick="notify()">Notification</button>
  </div>
  <script>
    notif = new piziBackbone.default.NotificationView();
    popup = new piziBackbone.default.PopupView();
    function notify(){
        notif[$('input[name=type]:checked').val()]($('.notif').val(), {permanent: $('input.permanent')[0].checked});
    }
    function confirm(){
        popup.confirm({
            message: $('.confirm').val(),
            custom: !$('.custom:checked').length ? null : function(){
                alert('Custom');
            },
            ok: !$('.ok:checked').length ? null : function(){
                alert('Ok');
            },
            close: !$('.close:checked').length ? null : function(){
                alert('Close');
            },
            customName: 'Pizi'
        });
        
    }
    function viewPopup(){
      popup.display(Backbone.View.extend({
        render: function(){
          
        }
      }));
    }
    function formPopup(){
      popup.form({
        template: '<form> <div class="row"> <div class="large-12 columns"> <label>Input Label <input name="input1" type="text" placeholder="large-12.columns" /> </label> </div> </div> <div class="row"> <div class="large-4 columns"> <label>Input Label <input type="text" name="input2" placeholder="large-4.columns" /> </label> </div> <div class="large-4 columns"> <label>Input Label <input name="input3" type="text" placeholder="large-4.columns" /> </label> </div> <div class="large-4 columns"> <div class="row collapse"> <label>Input Label</label> <div class="small-9 columns"> <input type="text" name="input4" placeholder="small-9.columns" /> </div> <div class="small-3 columns"> <span class="postfix">.com</span> </div> </div> </div> </div> <div class="row"> <div class="large-12 columns"> <label>Select Box <select name="select"> <option value="husker">Husker</option> <option value="starbuck">Starbuck</option> <option value="hotdog">Hot Dog</option> <option value="apollo">Apollo</option> </select> </label> </div> </div> <div class="row"> <div class="large-6 columns"> <label>Choose Your Favorite</label> <input type="radio" name="pokemon" value="Red" id="pokemonRed"><label for="pokemonRed">Red</label> <input type="radio" name="pokemon" value="Blue" id="pokemonBlue"><label for="pokemonBlue">Blue</label> </div> <div class="large-6 columns"> <label>Check these out</label> <input id="checkbox1" type="checkbox" name="check1"><label for="checkbox1">Checkbox 1</label> <input id="checkbox2" name="check2" type="checkbox"><label for="checkbox2">Checkbox 2</label> </div> </div> <div class="row"> <div class="large-12 columns"> <label>Textarea Label <textarea name="textarea" placeholder="small-12.columns"></textarea> </label> </div> </div> </form>',
        ok: function(popup, data){
          console.log(data);
        },
        validate: [
          {
            name: 'input1',
            regex: /\w+/,
            message: 'Il faut saisir un truc quand même!'
          },
          {
            name: 'input2',
            regex: /\w+/,
            message: 'Il faut saisir un truc quand même!'
          },
          {
            name: 'input3',
            regex: /\w+/,
            message: 'Il faut saisir un truc quand même!'
          },{
            name: 'input4',
            regex: /\w+/,
            message: 'Il faut saisir un truc quand même!'
          }
        ]
      });
    }
    $(document).foundation();
  </script>
</body>
</html>